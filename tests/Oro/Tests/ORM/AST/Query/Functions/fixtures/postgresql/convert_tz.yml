- functions:
    - { name: "convert_tz", className: "Oro\\ORM\\Query\\AST\\Functions\\DateTime\\ConvertTz", type: "datetime" }
  dql: "SELECT CONVERT_TZ(f.createdAt, '+00:00', '+02:00') FROM Oro\\Entities\\Foo f WHERE f.id = 1"
  sql: SELECT "timestamp"(t0_.created_at) AT TIME ZONE '+00:00' AT TIME ZONE '+02:00' AS sclr_0 FROM test_foo t0_ WHERE t0_.id = 1
  expectedResult:
      - "2014-01-04 03:06:07"

- functions:
    - { name: "convert_tz", className: "Oro\\ORM\\Query\\AST\\Functions\\DateTime\\ConvertTz", type: "datetime" }
  dql: "SELECT CONVERT_TZ('2014-01-01 00:00:00', '+00:00', '+02:00') FROM Oro\\Entities\\Foo f WHERE f.id = 1"
  sql: SELECT "timestamp"('2014-01-01 00:00:00') AT TIME ZONE '+00:00' AT TIME ZONE '+02:00' AS sclr_0 FROM test_foo t0_ WHERE t0_.id = 1
  expectedResult:
      - "2013-12-31 22:00:00"

- functions:
    - { name: "convert_tz", className: "Oro\\ORM\\Query\\AST\\Functions\\DateTime\\ConvertTz", type: "datetime" }
  dql: "SELECT CONVERT_TZ('2014-01-01 00:00:00', 'UTC', 'Europe/Kiev') FROM Oro\\Entities\\Foo f WHERE f.id = 1"
  sql: SELECT "timestamp"('2014-01-01 00:00:00') AT TIME ZONE 'UTC' AT TIME ZONE 'Europe/Kiev' AS sclr_0 FROM test_foo t0_ WHERE t0_.id = 1
  expectedResult:
      - "2014-01-01 02:00:00"

- functions:
    - { name: "convert_tz", className: "Oro\\ORM\\Query\\AST\\Functions\\DateTime\\ConvertTz", type: "datetime" }
  dql: "SELECT CONVERT_TZ('2014-01-01 00:00:00', '+02:00', '+02:00') FROM Oro\\Entities\\Foo f WHERE f.id = 1"
  sql: SELECT "timestamp"('2014-01-01 00:00:00') AT TIME ZONE '+02:00' AT TIME ZONE '+02:00' AS sclr_0 FROM test_foo t0_ WHERE t0_.id = 1
  expectedResult:
      - "2014-01-01 00:00:00"

- functions:
    - { name: "convert_tz", className: "Oro\\ORM\\Query\\AST\\Functions\\DateTime\\ConvertTz", type: "datetime" }
  dql: "SELECT CONVERT_TZ('2014-01-01 00:00:00', 'Europe/Kiev', 'Asia/Baku') FROM Oro\\Entities\\Foo f WHERE f.id = 1"
  sql: SELECT "timestamp"('2014-01-01 00:00:00') AT TIME ZONE 'Europe/Kiev' AT TIME ZONE 'Asia/Baku' AS sclr_0 FROM test_foo t0_ WHERE t0_.id = 1
  expectedResult:
      - "2014-01-01 02:00:00"
